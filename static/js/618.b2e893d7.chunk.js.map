{"version":3,"file":"static/js/618.b2e893d7.chunk.js","mappings":"sMAOA,MAkKA,EAlKeA,KACb,MAAMC,GAAWC,EAAAA,EAAAA,OAEVC,EAAgBC,IAAqBC,EAAAA,EAAAA,aAErCC,EAAiBC,IAAsBF,EAAAA,EAAAA,YAE9C,IAAIG,EAAqB,GAErBC,EAAiB,GACjBC,EAAS,GAEb,MAAOC,EAAQC,IAAaP,EAAAA,EAAAA,UAAS,KAE9BQ,EAAYC,IAAiBT,EAAAA,EAAAA,UAAS,IAEvCU,GAAoBC,EAAAA,EAAAA,KAAaC,GAC9BA,EAAMC,KAAKC,kBAGpB,IAAIC,EACAC,EAEJD,GAASJ,EAAAA,EAAAA,KAAaC,GACbK,OAAOL,EAAMC,KAAKK,OAE3BF,GAAUL,EAAAA,EAAAA,KAAaC,GACdK,OAAOL,EAAMC,KAAKM,SAK3BC,EAAAA,EAAAA,YAAU,KACRC,GAAoB,GACnB,CAACN,EAAQC,IAEZ,MAAMK,EAAqBC,UAAa,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAIrC,MAAMC,QAAiBC,MACrB,+EAAAC,OAC+EtB,EAAM,SAAAsB,OAAQrB,EAAO,mCAGhGsB,QAAmBH,EAASI,OAElCxC,EACY,OAAVuC,QAAU,IAAVA,GAAgB,QAANf,EAAVe,EAAYE,YAAI,IAAAjB,GAAU,QAAVC,EAAhBD,EAAkBkB,MAAM,UAAE,IAAAjB,GAAM,QAANC,EAA1BD,EAA4BkB,YAAI,IAAAjB,GAAM,QAANC,EAAhCD,EAAkCiB,YAAI,IAAAhB,GAAc,QAAdC,EAAtCD,EAAwCiB,oBAAY,IAAAhB,GAAe,QAAfC,EAApDD,EAAsDiB,qBAAa,IAAAhB,OAAzD,EAAVA,EACIiB,aAEN3C,EACY,OAAVoC,QAAU,IAAVA,GAAgB,QAANT,EAAVS,EAAYE,YAAI,IAAAX,GAAU,QAAVC,EAAhBD,EAAkBY,MAAM,UAAE,IAAAX,GAAM,QAANC,EAA1BD,EAA4BY,YAAI,IAAAX,GAAM,QAANC,EAAhCD,EAAkCW,YAAI,IAAAV,GAAc,QAAdC,EAAtCD,EAAwCW,oBAAY,IAAAV,GAAe,QAAfC,EAApDD,EAAsDW,qBAAa,IAAAV,OAAzD,EAAVA,EACIW,YACL,GAGHzB,EAAAA,EAAAA,YAAU,KACwB,KAAb,OAAfnB,QAAe,IAAfA,OAAe,EAAfA,EAAiB6C,SAA2C,KAAb,OAAdhD,QAAc,IAAdA,OAAc,EAAdA,EAAgBgD,UACpC,OAAf7C,QAAe,IAAfA,GAAAA,EAAiB8C,SAASC,IACxB7C,EAAmB8C,KAAKD,EAAI,IAEhB,OAAdlD,QAAc,IAAdA,GAAAA,EAAgBiD,SAASC,IACvB7C,EAAmB8C,KAAKD,EAAI,KAGhC7C,EAAmB4C,SAASC,IACI,IAA1B5C,EAAe0C,QACjB1C,EAAe6C,KAAKD,GACpB3C,EAAO4C,KAAKD,EAAIE,KAAKC,KAEhB9C,EAAO+C,SAASJ,EAAIE,KAAKC,MAC5B/C,EAAe6C,KAAKD,GACpB3C,EAAO4C,KAAKD,EAAIE,KAAKC,IAEzB,IAG+B,IAA7BzC,EAAkBoC,QACpB1C,EAAe2C,SAASC,IACtBpD,GAASkB,EAAAA,EAAAA,IAAgBkC,GAAK,GAElC,GACC,CAAC/C,EAAiBH,IA2BrB,OANAsB,EAAAA,EAAAA,YAAU,KACc,IAAlBd,EAAOwC,QACTrC,EAAc,GAChB,GACC,CAACH,KAGF+C,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,uBAAuBC,MAAO,CAAEC,OAAQ,WAEvDN,EAAAA,EAAAA,MAAA,OAAKI,UAAU,qEAAoEF,SAAA,EACjFF,EAAAA,EAAAA,MAAA,OAAKI,UAAU,6EAA4EF,SAAA,EACzFC,EAAAA,EAAAA,KAAA,SACEC,UAAU,cACVG,KAAK,OACLC,YAAY,qBACZC,MAAOxD,EACPyD,SA1BYC,IACpBzD,EAAUyD,EAAEC,OAAOH,OAEnB,MAAMI,EAAexD,EAAkByD,QAAQL,GAC7CA,EAAMZ,KAAKkB,KAAKC,cAAcjB,SAAS9C,EAAO+D,iBAEhD5D,EAAcyD,EAAa,IAsBpB5D,GACCkD,EAAAA,EAAAA,KAAA,KACEC,UAAU,kDACVa,QAASA,IAAM/D,EAAU,OAG3BiD,EAAAA,EAAAA,KAAA,KAAGC,UAAU,wDAIjBD,EAAAA,EAAAA,KAAA,OAAKC,UAAU,2EAA0EF,SAChE,IAAtB/C,EAAWsC,QACVU,EAAAA,EAAAA,KAAAF,EAAAA,SAAA,KAEAE,EAAAA,EAAAA,KAAA,OAAKC,UAAU,4BAA2BF,SACvC/C,EAAW+D,KAAKT,IAEbN,EAAAA,EAAAA,KAAA,OACEC,UAAU,0EAAyEF,UAGnFC,EAAAA,EAAAA,KAACgB,EAAAA,GAAI,CACHC,GAAE,mBAAApC,OAAqByB,EAAMZ,KAAKC,IAClCM,UAAU,0CACVa,QAASA,KAAMI,OAxDd1B,EAwD0Bc,OAvD7ClE,GAAS+E,EAAAA,EAAAA,IAAY3B,IADFA,KAwDiC,EAAAO,UAElCC,EAAAA,EAAAA,KAACoB,EAAAA,EAAQ,CAACC,SAAUf,OAPjBA,EAAMZ,KAAKC,eAgB7B,C","sources":["Components/Search.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport RestCard from \"./RestCard\";\r\nimport \"./CSS/Search.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addRestName, all_Restuarants } from \"../utils/cartSlice\";\r\n\r\nconst Search = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const [ToPRestaurants, SetToPRestaurants] = useState();\r\n\r\n  const [MainRestaurants, SetMainRestaurants] = useState();\r\n\r\n  let AllRestuarantsTemp = [];\r\n\r\n  let AllRestuarants = [];\r\n  let RestID = [];\r\n\r\n  const [search, SetSearch] = useState(\"\");\r\n\r\n  const [SearchRest, setSearchRest] = useState([]);\r\n\r\n  const getAllRestuarants = useSelector((store) => {\r\n    return store.cart.all_Restuarants;\r\n  });\r\n\r\n  let getLat;\r\n  let getLong;\r\n\r\n  getLat = useSelector((store) => {\r\n    return Number(store.cart.lat);\r\n  });\r\n  getLong = useSelector((store) => {\r\n    return Number(store.cart.long);\r\n  });\r\n\r\n  // console.log(\"getAllRestuarants\", getAllRestuarants);\r\n\r\n  useEffect(() => {\r\n    fetchResturantsApi();\r\n  }, [getLat, getLong]);\r\n\r\n  const fetchResturantsApi = async () => {\r\n    // console.log(\"getLat\",getLat)\r\n    // console.log(\"getLong\",getLong)\r\n\r\n    const response = await fetch(\r\n      // `https://swiggyserver-1.onrender.com/api/restaurants?lat=${getLat}&lng=${getLong}&page_type=DESKTOP_WEB_LISTING`\r\n      `https://swiggyserver.netlify.app/.netlify/functions/api/api/restaurants?lat=${getLat}&lng=${getLong}&page_type=DESKTOP_WEB_LISTING`\r\n    );\r\n\r\n    const fetch_data = await response.json();\r\n\r\n    SetToPRestaurants(\r\n      fetch_data?.data?.cards[4]?.card?.card?.gridElements?.infoWithStyle\r\n        ?.restaurants\r\n    );\r\n    SetMainRestaurants(\r\n      fetch_data?.data?.cards[1]?.card?.card?.gridElements?.infoWithStyle\r\n        ?.restaurants\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (MainRestaurants?.length !== 0 && ToPRestaurants?.length !== 0) {\r\n      MainRestaurants?.forEach((val) => {\r\n        AllRestuarantsTemp.push(val);\r\n      });\r\n      ToPRestaurants?.forEach((val) => {\r\n        AllRestuarantsTemp.push(val);\r\n      });\r\n    }\r\n    AllRestuarantsTemp.forEach((val) => {\r\n      if (AllRestuarants.length === 0) {\r\n        AllRestuarants.push(val);\r\n        RestID.push(val.info.id);\r\n      } else {\r\n        if (!RestID.includes(val.info.id)) {\r\n          AllRestuarants.push(val);\r\n          RestID.push(val.info.id);\r\n        }\r\n      }\r\n    });\r\n\r\n    if (getAllRestuarants.length === 0) {\r\n      AllRestuarants.forEach((val) => {\r\n        dispatch(all_Restuarants(val));\r\n      });\r\n    }\r\n  }, [MainRestaurants, ToPRestaurants]);\r\n\r\n  // console.log(\"AllRestuarantsTemp\", AllRestuarantsTemp);\r\n  // console.log(\"AllRestuarants\", AllRestuarants);\r\n  // console.log(\"getAllRestuarants\", getAllRestuarants);\r\n  // console.log(\"search\", search);\r\n  // console.log(\"SearchRest\", SearchRest);\r\n\r\n  const GetRestName = (val) => {\r\n    dispatch(addRestName(val));\r\n  };\r\n\r\n  const HandleChange = (e) => {\r\n    SetSearch(e.target.value);\r\n\r\n    const SearchedRest = getAllRestuarants.filter((value) =>\r\n      value.info.name.toLowerCase().includes(search.toLowerCase())\r\n    );\r\n    setSearchRest(SearchedRest);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (search.length === 0) {\r\n      setSearchRest([]);\r\n    }\r\n  }, [search]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"NavbarSeprationcolor\" style={{ height: \"2rem\" }}></div>\r\n\r\n      <div className=\"SeaarchPageDiv container flex flex-col justify-center items-center\">\r\n        <div className=\"w-11/12 md:w-10/12 lg:w-10/12 xl:w-9/12 flex border-2 px-4 mb-5 rounded-lg\">\r\n          <input\r\n            className=\"filterInput\"\r\n            type=\"text\"\r\n            placeholder=\"Search Restaurants\"\r\n            value={search}\r\n            onChange={HandleChange}\r\n          />\r\n          {search ? (\r\n            <i\r\n              className=\"fa-solid fa-x py-1 pl-2 pr-1 searchbtn text-lg \"\r\n              onClick={() => SetSearch(\"\")}\r\n            />\r\n          ) : (\r\n            <i className=\"fa-solid fa-magnifying-glass searchbtn text-lg \"></i>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"w-11/12 md:w-10/12 lg:w-10/12 xl:w-9/12 flex justify-center items-center\">\r\n          {SearchRest.length === 0 ? (\r\n            <></>\r\n          ) : (\r\n            <div className=\"restCard flex row w-full \">\r\n              {SearchRest.map((value) => {\r\n                return (\r\n                  <div\r\n                    className=\"restCardDiv col-lg-3 col-md-4 col-sm-6 mt-3 mb-3 mx-3 p-0 w-80 sm:w-56 \"\r\n                    key={value.info.id}\r\n                  >\r\n                    <Link\r\n                      to={`/restaurantMenu/${value.info.id}`}\r\n                      className=\"rest_ flex justify-center items-center \"\r\n                      onClick={() => GetRestName(value)}\r\n                    >\r\n                      <RestCard Api_data={value} />\r\n                    </Link>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n"],"names":["Search","dispatch","useDispatch","ToPRestaurants","SetToPRestaurants","useState","MainRestaurants","SetMainRestaurants","AllRestuarantsTemp","AllRestuarants","RestID","search","SetSearch","SearchRest","setSearchRest","getAllRestuarants","useSelector","store","cart","all_Restuarants","getLat","getLong","Number","lat","long","useEffect","fetchResturantsApi","async","_fetch_data$data","_fetch_data$data$card","_fetch_data$data$card2","_fetch_data$data$card3","_fetch_data$data$card4","_fetch_data$data$card5","_fetch_data$data2","_fetch_data$data2$car","_fetch_data$data2$car2","_fetch_data$data2$car3","_fetch_data$data2$car4","_fetch_data$data2$car5","response","fetch","concat","fetch_data","json","data","cards","card","gridElements","infoWithStyle","restaurants","length","forEach","val","push","info","id","includes","_jsxs","_Fragment","children","_jsx","className","style","height","type","placeholder","value","onChange","e","target","SearchedRest","filter","name","toLowerCase","onClick","map","Link","to","GetRestName","addRestName","RestCard","Api_data"],"sourceRoot":""}