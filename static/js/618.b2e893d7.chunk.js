"use strict";(self.webpackChunkswiggyclone=self.webpackChunkswiggyclone||[]).push([[618],{8618:(e,l,t)=>{t.r(l),t.d(l,{default:()=>o});var a=t(5043),s=t(3941),n=t(5475),i=t(3003),r=t(5238),c=t(579);const o=()=>{const e=(0,i.wA)(),[l,t]=(0,a.useState)(),[o,d]=(0,a.useState)();let u=[],f=[],h=[];const[v,g]=(0,a.useState)(""),[m,p]=(0,a.useState)([]),x=(0,i.d4)((e=>e.cart.all_Restuarants));let w,j;w=(0,i.d4)((e=>Number(e.cart.lat))),j=(0,i.d4)((e=>Number(e.cart.long))),(0,a.useEffect)((()=>{y()}),[w,j]);const y=async()=>{var e,l,a,s,n,i,r,c,o,u,f,h;const v=await fetch("https://swiggyserver.netlify.app/.netlify/functions/api/api/restaurants?lat=".concat(w,"&lng=").concat(j,"&page_type=DESKTOP_WEB_LISTING")),g=await v.json();t(null===g||void 0===g||null===(e=g.data)||void 0===e||null===(l=e.cards[4])||void 0===l||null===(a=l.card)||void 0===a||null===(s=a.card)||void 0===s||null===(n=s.gridElements)||void 0===n||null===(i=n.infoWithStyle)||void 0===i?void 0:i.restaurants),d(null===g||void 0===g||null===(r=g.data)||void 0===r||null===(c=r.cards[1])||void 0===c||null===(o=c.card)||void 0===o||null===(u=o.card)||void 0===u||null===(f=u.gridElements)||void 0===f||null===(h=f.infoWithStyle)||void 0===h?void 0:h.restaurants)};(0,a.useEffect)((()=>{0!==(null===o||void 0===o?void 0:o.length)&&0!==(null===l||void 0===l?void 0:l.length)&&(null===o||void 0===o||o.forEach((e=>{u.push(e)})),null===l||void 0===l||l.forEach((e=>{u.push(e)}))),u.forEach((e=>{0===f.length?(f.push(e),h.push(e.info.id)):h.includes(e.info.id)||(f.push(e),h.push(e.info.id))})),0===x.length&&f.forEach((l=>{e((0,r.xp)(l))}))}),[o,l]);return(0,a.useEffect)((()=>{0===v.length&&p([])}),[v]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"NavbarSeprationcolor",style:{height:"2rem"}}),(0,c.jsxs)("div",{className:"SeaarchPageDiv container flex flex-col justify-center items-center",children:[(0,c.jsxs)("div",{className:"w-11/12 md:w-10/12 lg:w-10/12 xl:w-9/12 flex border-2 px-4 mb-5 rounded-lg",children:[(0,c.jsx)("input",{className:"filterInput",type:"text",placeholder:"Search Restaurants",value:v,onChange:e=>{g(e.target.value);const l=x.filter((e=>e.info.name.toLowerCase().includes(v.toLowerCase())));p(l)}}),v?(0,c.jsx)("i",{className:"fa-solid fa-x py-1 pl-2 pr-1 searchbtn text-lg ",onClick:()=>g("")}):(0,c.jsx)("i",{className:"fa-solid fa-magnifying-glass searchbtn text-lg "})]}),(0,c.jsx)("div",{className:"w-11/12 md:w-10/12 lg:w-10/12 xl:w-9/12 flex justify-center items-center",children:0===m.length?(0,c.jsx)(c.Fragment,{}):(0,c.jsx)("div",{className:"restCard flex row w-full ",children:m.map((l=>(0,c.jsx)("div",{className:"restCardDiv col-lg-3 col-md-4 col-sm-6 mt-3 mb-3 mx-3 p-0 w-80 sm:w-56 ",children:(0,c.jsx)(n.N_,{to:"/restaurantMenu/".concat(l.info.id),className:"rest_ flex justify-center items-center ",onClick:()=>{return t=l,void e((0,r.xE)(t));var t},children:(0,c.jsx)(s.A,{Api_data:l})})},l.info.id)))})})]})]})}}}]);
//# sourceMappingURL=618.b2e893d7.chunk.js.map